<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AMREF GF-TB · Dashboards</title>
  <style>
    :root{
      --burgundy:#7a0026;
      --bg:#0f172a;
      --panel:#111827;
      --border:rgba(255,255,255,.12);
      --text:#e5e7eb;
      --muted:#cbd5e1;
    }
    *{box-sizing:border-box;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
    body{margin:0;height:100vh;display:flex;flex-direction:column;background:var(--bg);color:var(--text)}
    header{background:var(--burgundy);color:#fff;padding:12px 14px}
    header h1{margin:0;font-size:16px}
    header p{margin:6px 0 0;opacity:.95;font-size:12px;color:#fff}

    .tabs{display:flex;gap:8px;flex-wrap:wrap;padding:10px 12px;background:var(--panel);border-bottom:1px solid var(--border)}
    .tab{
      border:1px solid var(--border);
      background:#1f2937;
      color:var(--text);
      padding:8px 10px;
      border-radius:10px;
      cursor:pointer;
      font-size:13px;
      line-height:1;
    }
    .tab[aria-selected="true"]{background:var(--burgundy);border-color:transparent;font-weight:700}

    .frame-wrap{flex:1;min-height:0}
    iframe{width:100%;height:100%;border:0;background:#fff}

    .hint{padding:8px 12px;font-size:12px;color:var(--muted);background:var(--panel);border-top:1px solid var(--border)}
    .hint a{color:#93c5fd}
  </style>
</head>
<body>
  <header>
    <h1>AMREF GF-TB · Program Dashboards</h1>
    <p>Contact Initiation · Contact Tracing · iMonitor · Interrupters Outcomes</p>
  </header>

  <nav class="tabs" role="tablist" aria-label="GF_TB dashboards">
    <button class="tab" role="tab" aria-selected="true"  data-src="./contact_initiation.html">Contact Initiation</button>
    <button class="tab" role="tab" aria-selected="false" data-src="./contact_tracing.html">Contact Tracing</button>
    <button class="tab" role="tab" aria-selected="false" data-src="./imonitor.html">iMonitor</button>
    <button class="tab" role="tab" aria-selected="false" data-src="./interrupters_outcomes.html">Interrupters Outcomes</button>
  </nav>

  <main class="frame-wrap">
    <iframe id="frame" src="./contact_initiation.html" title="GF_TB dashboard"></iframe>
  </main>

  <div class="hint">
    If a tab shows blank content, it’s usually broken asset paths inside that embedded dashboard.
    Keep assets relative (e.g., <code>./assets/...</code>).
  </div>

  <script>
    const frame = document.getElementById("frame");
    const tabs  = [...document.querySelectorAll(".tab")];

    function activate(btn){
      tabs.forEach(t => t.setAttribute("aria-selected","false"));
      btn.setAttribute("aria-selected","true");
      frame.src = btn.dataset.src;

      // Shareable links like #imonitor
      const hash = btn.dataset.src.replace("./","").replace(".html","");
      history.replaceState(null,"","#"+hash);
    }

    tabs.forEach(t => t.addEventListener("click", () => activate(t)));

    // Load from URL hash if present
    const hash = location.hash.replace("#","").trim();
    if(hash){
      const match = tabs.find(t => t.dataset.src.includes(hash));
      if(match) activate(match);
    }
  </script>
</body>
</html>
